<!doctype html>
<html>
<head>
    <title>girlsock.directory</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="https://media.girlsock.directory/img/8828f78d1bfd.webp" type="image/webp">

    <!-- stylesheets -->
    <link rel="stylesheet" href="src/css/theme-style.css">

    <!-- goat stats -->
    <script data-goatcounter="https://wetrackyouinyoursleep.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

    <!-- discord OpenGraph tags https://www.reddit.com/r/discordapp/comments/82p8i6/a_basic_tutorial_on_how_to_get_the_most_out_of/ -->
    <meta property="og:description" content="An imageboard for pictures of girls, socks, and some other stuff. Stop on by.">
    <meta property="og:title" content="Click here for girlsocks.">
    <meta property="og:site_name" content="girlsock.directory">
    <!--    <meta property="og:image" content="">-->

    <!--    <meta property="og:type" content="">-->
    <!--    <meta property="og:url" content="">-->
    <!--    <link rel="apple-touch-icon" href="icon.png">-->
    <!--    <link rel="manifest" href="site.webmanifest">-->

    <!--https://css-tricks.com/meta-theme-color-and-trickery/-->
    <meta name="theme-color" content="#fafafa">
    <!--print errors-->
    <script>
    window.addEventListener('error', function(event) {
    let errorText = document.createElement('div');
    errorText.style.cssText = 'background-color: red; color: white; padding: 10px; margin: 10px 0;';
    errorText.textContent = `Error: ${event.message} at ${event.filename}, line: ${event.lineno}`;
    document.body.prepend(errorText);
    });
    </script>
    <script type="module">
import { html, $, _ } from 'https://cdn.jsdelivr.net/npm/cute-html/+esm';
import { index } from './src/js/components/index.js';
import { directory } from './src/js/components/directory.js';

// Calculate base path dynamically to support different deployment environments (GitHub Pages, localhost, etc.)
const basePath = window.location.pathname.split('/').slice(0, window.location.pathname.includes('/src/') ? -2 : -1).join('/') + "/";
// Function to get the relative path from the URL
function getRelativePath() {
    _("f", urlPath.split('/').filter(part => part !== ""));
    _("f1", window.location.pathname);
    _("f2", basePath);
    _("f3", window.location.pathname.replace(basePath, ''));
    
    return window.location.pathname.replace(basePath, '');
}

// Use the relative path for routing
switch (getRelativePath()) {
    case "": // index
        $('#main').render(index);
        break;
    case "th":
        $('#main').render(directory("th", "Every post must have a girl with thigh highs."));
        break;
    case "f":
        $('#main').render(directory("f", "Every post much have a girl that is in some way thick, fat, chubby, or obese."));
        break;
    case "ai":
        $('#main').render(directory("ai", "This board is meant to serve as a place for AI-related discussion. While it is not required for images posted here to be AI-generated, doing so to showcase features of AI is encouraged."));
        break;
    case "l":
        $('#main').render(directory("l", "This board is meant for discussion surrounding conlangs, and by extension linguistics in general. Both serious analysis and humorous posts are welcome."));
        break;
    case "test":
        $('#main').render(directory("test", "test test"));
        break;
    default: // page not found
        $('#main').render(html`<p>The page you are looking for does not exist.</p>`);
        break;

        }
    </script>

    <!-- sock loading script (throws an error on index but w/e) -->
    <!--<script type="module" src="src/js/minified-bundle.js"></script>-->

    <!-- script for making images big when clicked -->
    <script>
        function imgToggleBig(img)
        {
            if (img.hasAttribute("big")) {
                img.removeAttribute("big");
            }
            else {
                img.setAttribute("big", "");
            }
        }
    </script>

</head>
<body>

<div id="center">
    <header>
        <div style="height: 80px; background-image: url('/assets/banner.png'); background-size: contain;"></div>
        <nav>
            <a href="/">index/</a>
            <a href="/th">th/</a>
            <a href="/f">f/</a>
            <a href="/ai">ai/</a>
            <a href="/l">l/</a>
        </nav>
    </header>
    <main id="main">

    </main>
    <footer>
        Â© 2024 BlueBunnex & Renox. <a href="https://github.com/BlueBunnex/girldatabase">View source code.</a>
    </footer>
</div>

</body>
</html>
