<!doctype html> <!-- ALL THIS CODE DOES IS REPLACE ITSELF WITH index.html -->
<html>
<head>
    <title>girlsock.directory</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="https://media.girlsock.directory/img/8828f78d1bfd.webp" type="image/webp">
    <meta property="og:description" content="An imageboard for pictures of girls, socks, and some other stuff. Stop on by.">
    <meta property="og:title" content="Click here for girlsocks.">
    <meta property="og:site_name" content="girlsock.directory">
    <meta name="theme-color" content="#fafafa">
  
    <script> // cleans localhost URLs
    if (window.location.hostname === 'localhost') {
      const url = new URL(window.location);
      url.searchParams.delete('_ijt');
      url.searchParams.delete('_ij_reload');
      window.history.replaceState({}, document.title, url.pathname + url.search);
      window.history.replaceState({}, document.title, window.location.pathname.replace("/index.html", ""));
    }
    </script>
  
    <script> // Base URL Detection and replacement of HTML !!
      let manualBaseOverride = '';  // Base URL override
      const onGitHubPages = window.location.hostname.includes('github.io');
      const pathSegments = window.location.pathname.split('/').filter(part => part !== "");
      const BASE_URL = manualBaseOverride || (() => {
        return (window.location.hostname === 'localhost' || onGitHubPages) && pathSegments.length > 0
            ? `${window.location.origin}/${pathSegments[0]}/`
            : `${window.location.origin}/`;
      })();
      fetch(`${BASE_URL}index.html`.replace(/([^:]\/)\/+/g, "$1")) // Immediately fetch and replace all html
        .then(response => {
          if (!response.ok) throw new Error('Failed to fetch index.html');
          return response.text();
        }).then(html => {
          document.open();
          document.write(html);
          document.close();
        }).catch(error => console.error('Error fetching or replacing content:', error));
    </script>
  
</head>
<body>
    <!-- The body content will be replaced by index.html content, keeping this for initial page load view -->
</body>
</html>
